/**
 * AdSimple-Vote â€” Let the users to vote with just one simple click. Create a question and get deep insights in the process. Listen your audience.
 * @encoding     UTF-8
 * @version      1.0.0
 * @copyright    Copyright (C) 2018 AdSimple (https://www.adsimple.at). All rights reserved.
 * @license      GPLv2 or later; See http://www.gnu.org/licenses/gpl-2.0.html
 * @author       Alexander Khmelnitskiy (hi@alexander.khmelnitskiy.ua)
 * @support      support@adsimple.at
 */
jQuery(document).ready(function(){var e={};function t(e,t,a){var o="";if(a){var s=new Date;s.setTime(s.getTime()+24*a*60*60*1e3),o="; expires="+s.toUTCString()}document.cookie=e+"="+t+o+"; path=/"}function a(e){for(var t=e+"=",a=document.cookie.split(";"),o=0;o<a.length;o++){for(var s=a[o];" "==s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return null}null==(e=JSON.parse(a("adsimplevote_data")))&&((e={}).guid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,a="x"==e?t:3&t|8;return a.toString(16)}),t("adsimplevote_data",JSON.stringify(e))),jQuery(".adsimplevote-box").each(function(o,s){var r=1,l=0,i=jQuery(this).attr("id").replace("adsimplevote-",""),n=jQuery("#adsimplevote-"+i+" .vote-slider .value"),v=jQuery("#adsimplevote-"+i+" .vote-slider .range");n.html(v.val()),jQuery("#adsimplevote-"+i+" .vote-slider .range").on("input",function(){jQuery(this).next().html(this.value+" %"),jQuery(this).next().css("margin-left",-15-Math.round(.2*this.value)+"px"),jQuery(this).next().css("left",this.value+"%")});var u=null,d=null;function x(){console.log("showAterVoteMsg"),jQuery("#adsimplevote-"+i+" .asv-before-vote-msg").hide(),jQuery("#adsimplevote-"+i+" .asv-after-vote-msg").show()}jQuery("#adsimplevote-"+i+" .vote-slider .range").on("change",function(){d=null==d?e["value_"+i]:u,u=this.value;var a={action:"process_vote",vote_id:i,vote_val:u,guid:e.guid,new_vote:r};jQuery("#adsimplevote-"+i+" .vote-slider .range").prop("disabled",!0),jQuery.post(adsimplevote_ajax.url,a,function(e){e.status?(r=0,l||(jQuery("#adsimplevote-"+i+" .asv-couter span b").text(parseInt(jQuery("#adsimplevote-"+i+" .asv-couter span b").text())+1),l=1),null!=u&&(window["adsimplevote_data_"+i].series[0][d]--,window["adsimplevote_data_"+i].series[0][u]++,showChart(i),x())):(console.log("AJAX Error! See below:"),console.log(e),void 0!==e.message&&alert(e.message))},"json").fail(function(e){console.log("AJAX Error! See below:"),console.log(e)}).always(function(){jQuery("#adsimplevote-"+i+" .vote-slider .range").prop("disabled",!1)}),e["value_"+i]=u,t("adsimplevote_data",JSON.stringify(e))}),null!=(e=JSON.parse(a("adsimplevote_data")))["value_"+i]?(r=0,l=1,jQuery("#adsimplevote-"+i+" .vote-slider .range").val(e["value_"+i]),n.html(v.val()),n.css("margin-left",-15-Math.round(.2*v.val())+"px"),n.css("left",v.val()+"%"),showChart(i),x()):(jQuery("#adsimplevote-"+i+" .ct-chart").hide(),jQuery("#adsimplevote-"+i+" .asv-before-vote-msg").show(),jQuery("#adsimplevote-"+i+" .asv-after-vote-msg").hide())})});